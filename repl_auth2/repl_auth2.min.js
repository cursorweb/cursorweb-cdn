/*
Code created by Junhao Zhang @coder100: repl.it/@coder100
*/
var Auth=function(t,i,n,e,o){for(a in this.txt=t||'<img src="https://repl.it/public/images/favicon.ico" alt="Log in with repl.it">',this.cls=i||"log-in",this.style=n||{background:"#fff",color:"#000",border:"none",outline:"0",padding:"10px",fontWeight:"bolder",fontSize:"150%",cursor:"pointer",boxShadow:"0 0 4px rgba(0, 0, 0, 0.5)"},this.win=e||{modal:"yes",width:"500",height:"700",resizable:"no"},this.opt=o||{className:this.cls,id:"log-in"},this.awin=[],this.done=function(t){location.reload()},this.err=function(t){location.reload()},this.domain=location.hostname,this.win){var s=this.win[a];this.awin.push(a+"="+s)}this.swin=this.awin.join(",")};Auth.prototype.append=function(){var t=document.createElement("button"),i=this;Object.assign(t.style,this.style),t.className=this.cls,t.innerHTML=this.txt,Object.assign(t,this.opt),t.addEventListener("click",function(){var t=window.open("https://repl.it/auth_with_repl_site?domain="+i.domain,"_blank","modal=yes,width=500,height=700,resizable=no,"+i.swin);window.addEventListener("message",function(n){t.close(),"auth_complete"!=n.data?i.err(n):i.done(n)})}),document.body.appendChild(t)};
